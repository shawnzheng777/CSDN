"use strict";$(".firstUl").children().hover(function(){$(this).css({backgroundColor:"#f6f6f6","border-bottom":"2px solid red"})},function(){$(this).css({backgroundColor:"#fff",border:"none"})}).last().hover(function(){$(this).find("ol").stop().slideDown(300).css("z-index","10")},function(){$(this).find("ol").stop().slideUp(300)}),$(".docenter").hover(function(){$(this).find("ol").css("display","flex").stop().slideDown(300)},function(){$(this).find("ol").stop().slideUp(300)}),$(".log>span").click(function(){$(this).css("border-bottom","2px solid red").siblings().css("border-bottom","none");var e=$(this).index();$(".log>form").eq(e).css("display","block").siblings().css("display","none"),$(".log>span").css("display","inline-block"),1==e?$(".bot").css("display","none"):$(".bot").css("display","block")}),$(".f2").validate({rules:{username:{required:!0,rangelength:[4,8]},call:{required:!0},email:{email:!0,required:!0},password1:{rangelength:[6,10],required:!0},password2:{required:!0,equalTo:"#pass1"}},messages:{username:"请输入4-8位用户名且不能为空",call:"请输入昵称且不能为空",email:"请输入正确的邮箱且不能为空",password1:"请输入6-10为密码且不能为空",password2:"两次密码不一致"}});var username=document.querySelector(".user"),email=document.querySelector(".mail"),nickname=document.querySelector(".phone"),p1=document.querySelector(".p1"),p2=document.querySelector(".p2"),reg=/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/;username.oninput=function(){$.ajax({url:"../php/name.php",dataType:"json",data:{username:$(".user").val()},success:function(e){1==e&&layer.msg("用户名已存在",{icon:2})}})},email.oninput=function(){$.ajax({url:"../php/email.php",dataType:"json",data:{email:$(".mail").val()},success:function(e){1==e&&layer.msg("邮箱已存在",{icon:2})}})},$(".sub2").click(function(e){if(/^\w{4,8}$/.test(username.value)&&nickname.value){if(!reg.test(email.value))return layer.msg("请输入正确的邮箱",{icon:2}),void e.preventDefault();if(p1.value===p2.value&&/^\w{6,10}$/.test(p1.value))return $.ajax({url:"../php/login.php",dataType:"json",data:{username:username.value,nickname:nickname.value,email:email.value,password:p1.value},success:function(e){console.log(e),1==e?(layer.msg("注册成功",{icon:1}),setTimeout(function(){window.location.reload()},1e3)):layer.msg("请重新输入",{icon:2})}}),!1}});var onusername=document.querySelector(".onusername"),onpassword=document.querySelector(".onpassword");$(".sub1").click(function(){return $.ajax({url:"../php/onlaod.php",dataType:"json",data:{username:onusername.value,password:onpassword.value},success:function(e){0==e.sta?layer.msg(e.msg,{icon:2}):(layer.msg("登陆成功",{icon:1,time:2e3}),setCookie("username",onusername.value),setTimeout(function(){window.location.href="../pages/index.html"},2e3))}}),!1}),$("header").find("button").click(function(){layer.msg("这是个假按钮啥都没有！！！QAQ")});